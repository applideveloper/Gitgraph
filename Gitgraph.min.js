var Gitgraph=function(){var e=function(e){var t=document.createElement("div"),n=e.domNode||document.body,r=e.height||40,o=e.width||416,a=e.background||"white",i=e.userColor||"rgb(51, 102, 153)",p=e.allColor||"rgb(202, 202, 202)",l=e.hasOwnProperty("showName")?e.showName:!0,s=(new Spinner).spin(t);s.el.style.left="50%",s.el.style.top="50%";var d=t.style;d.padding="4px",d.borderRadius="4px",d.background=a,d.position="relative",d.height=r+"px",d.textAlign="center",d.width=o+"px",n.appendChild(t);var h="http://cdn.bitpshr.net/simple-proxy/simple-proxy.php",c="?url=https://github.com/"+e.user+"/"+e.repo+"/graphs/owner_participation",u=new XMLHttpRequest;u.open("GET",h+c,!0),u.onreadystatechange=function(){if(4==u.readyState&&200==u.status){var n=JSON.parse(u.responseText);if(n&&n.contents&&n.contents.all){var a=n.contents.all,s="https://github.com/"+e.user+"/"+e.repo+"/";t.innerHTML="";var d=document.createElement("canvas");d.width=o,d.height=r,d.style.position="relative";var h=document.createElement("a");if(h.href=s,h.appendChild(d),t.appendChild(h),l){var c=document.createElement("div");c.innerHTML=e.user+"/"+e.repo;var g=c.style;g.fontSize="12px",g.borderRadius="3px",g.color="#EEE",g.backgroundColor="rgba(0,0,0,0.5)",g.display="inline-block",g.padding="5px",g.position="absolute",g.top=g.right="5px",h.appendChild(c)}var v=d.getContext("2d"),m=o/a.length,y=Math.max.apply(Math,a),f=parseFloat(r-1)/y,b=function(e,t){e*=f,v.fillRect(t*m,r-e,m-1,e)};v.fillStyle=p;var x,w;for(x=0,w=a.length;w>x;x++)b(a[x],x);for(v.fillStyle=i,x=0,w=n.contents.owner.length;w>x;x++)b(n.contents.owner[x],x)}}},u.send(null)};return e.prototype={constructor:e},e}();